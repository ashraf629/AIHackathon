<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoalMate - Tasks</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <!-- Header and Navigation -->
    <header>
        <div class="logo-container">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="App Logo" class="logo">
            <h1 class="app-name">GoalMate</h1>
        </div>
        <div class="greeting">
            <img src="{{ url_for('static', filename='images/avatar.png') }}" alt="AI Avatar" class="avatar">
            <p>Your Tasks, <span id="user-name">Alex</span></p>
        </div>
    </header>
    <!-- Navigation Menu -->
    <nav>
        <ul class="nav-menu">
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('chatbot') }}">Chatbot</a></li>
            <li><a href="{{ url_for('tasks') }}" class="active">Tasks</a></li>
            <li><a href="{{ url_for('goals') }}">Goals</a></li>
            <li><a href="{{ url_for('progress') }}">Progress</a></li>
            <li><a href="{{ url_for('pomodoro') }}">Pomodoro Timer</a></li>
            <li><a href="{{ url_for('health') }}">Health & Fitness</a></li>
            <li><a href="{{ url_for('calendar') }}">Calendar</a></li>
            <li><a href="{{ url_for('settings') }}">Settings</a></li>
        </ul>
    </nav>
    <!-- Main Content -->
    <main>
        <!-- Task Management Interface -->
        <section class="task-management">
            <h2>Your Tasks</h2>
            <div class="task-list">
                <!-- Debugging statement to log the contents of the tasks array -->
                <script>
                    console.log("Tasks from session: {{ session.get('tasks', []) }}");
                </script>
                <!-- Task items will be listed here -->
                {% for task in session.get('tasks', []) if task %}
                <div class="task-item">
                    <h3>{{ task }}</h3>
                    <button onclick="completeTask('{{ task }}')">Complete</button>
                    <button onclick="deleteTask('{{ task }}')">Delete</button>
                </div>
                {% else %}
                <p>No tasks found.</p>  <!-- Debugging statement -->
                {% endfor %}
            </div>
            <form id="add-task-form" onsubmit="return addNewTask()">
                <input type="text" id="new-task" placeholder="New Task" required>
                <button type="submit">Add New Task</button>
            </form>
        </section>
    </main>
    <!-- Footer -->
    <footer>
        <p>&copy; 2024 GoalMate. All rights reserved.</p>
    </footer>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
